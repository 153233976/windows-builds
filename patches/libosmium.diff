diff --git a/include/osmium/util/double.hpp b/include/osmium/util/double.hpp
index 91f4ac7..629853b 100644
--- a/include/osmium/util/double.hpp
+++ b/include/osmium/util/double.hpp
@@ -37,6 +37,7 @@ DEALINGS IN THE SOFTWARE.
 #include <cassert>
 #include <cmath>
 #include <cstdio>
+#include <iterator>
 
 namespace osmium {
 
diff --git a/test/osm-testdata/CMakeLists.txt b/test/osm-testdata/CMakeLists.txt
index 743bb5a..3dc5fbb 100644
--- a/test/osm-testdata/CMakeLists.txt
+++ b/test/osm-testdata/CMakeLists.txt
@@ -30,6 +30,7 @@ file(GLOB TESTCASE_CPPS testcases/*.cpp)
 add_executable(testdata-testcases testdata-testcases.cpp ${TESTCASE_CPPS})
 target_link_libraries(testdata-testcases
                       ${OSMIUM_IO_LIBRARIES}
+                      Ws2_32.lib
 )
 add_test(NAME testdata-testcases
          COMMAND testdata-testcases
@@ -43,6 +44,7 @@ add_executable(testdata-overview testdata-overview.cpp)
 target_link_libraries(testdata-overview
                       ${OSMIUM_IO_LIBRARIES}
                       ${GDAL_LIBRARIES}
+                      Ws2_32.lib
 )
 add_test(NAME testdata-overview
          COMMAND testdata-overview ${TESTDATA_DIR}/grid/data/all.osm
